{{#unless this.isHidden}}
  {{plugin-outlet
    name="category-list-above-each-category"
    connectorTagName=""
    tagName=""
    args=(hash category=this.category)
  }}

  <li
    data-category-id={{this.category.id}}
    data-notification-level={{this.category.notificationLevelString}}
    class="{{if this.c.description_excerpt 'has-description' 'no-description'}}
      {{if this.category.uploaded_logo.url 'has-logo' 'no-logo'}}"
  >
    <div class="item">
      <span
        class="category-color"
        style={{html-safe (concat "background-color: " this.category.color)}}
      ></span>
      <span class="category {{if this.isMuted 'muted'}}">
        {{category-title-link category=this.category}}
        {{#if this.category.description_excerpt}}
          <div class="category-description">
            {{dir-span this.category.description_excerpt htmlSafe="true"}}
          </div>
        {{/if}}
        {{#if this.category.subcategories}}
          <div class="subcategories">
            {{#each this.category.subcategories as |subcategory|}}
              {{sub-category-item category=subcategory listType=this.listType}}
            {{/each}}
          </div>
        {{/if}}
      </span>
      <span class="topics">
        <div title={{this.category.statTitle}}>{{html-safe
            this.category.stat
          }}</div>
        {{category-unread
          category=this.category
          tagName="div"
          class="unread-new"
        }}
      </span>
      {{#unless this.isMuted}}
        {{#if this.showTopics}}
          <span class="latest">
            {{#each this.category.featuredTopics as |t|}}
              {{featured-topic topic=t}}
            {{/each}}
          </span>
        {{/if}}
      {{/unless}}
    </div>
  </li>
{{/unless}}